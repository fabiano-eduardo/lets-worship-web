# Section notes operations

fragment SectionNoteFields on SectionNote {
  id
  versionId
  sectionId
  anchor {
    type
    lineIndex
    wordOffset
    fromLineIndex
    toLineIndex
  }
  text
  createdAt
  updatedAt
  rev
}

query SectionNotes($versionId: ID!) {
  sectionNotes(versionId: $versionId) {
    ...SectionNoteFields
  }
}

query SectionNotesBySection($versionId: ID!, $sectionId: ID!) {
  sectionNotesBySection(versionId: $versionId, sectionId: $sectionId) {
    ...SectionNoteFields
  }
}

mutation CreateSectionNote($input: CreateSectionNoteInput!) {
  createSectionNote(input: $input) {
    ok
    errors {
      message
      field
    }
    sectionNote {
      ...SectionNoteFields
    }
  }
}

mutation UpdateSectionNote($id: ID!, $patch: UpdateSectionNoteInput!) {
  updateSectionNote(id: $id, patch: $patch) {
    ok
    errors {
      message
      field
    }
    sectionNote {
      ...SectionNoteFields
    }
  }
}

mutation DeleteSectionNote($id: ID!) {
  deleteSectionNote(id: $id) {
    ok
    errors {
      message
      field
    }
  }
}
